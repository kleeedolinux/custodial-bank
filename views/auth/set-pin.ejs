<div class="flex justify-center">
  <div class="w-full max-w-md">
    <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
      <h2 class="text-2xl font-bold text-center mb-6 text-primary">Set Your PIN</h2>
      
      <div class="mb-6 bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative" role="alert">
        <p class="font-bold">Important!</p>
        <p class="block sm:inline">Your PIN is used to encrypt your wallet's private key. It cannot be changed or recovered.</p>
      </div>
      
      <form action="/auth/set-pin" method="POST">
        <div class="mb-4">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="pin">
            4-Digit PIN
          </label>
          <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" 
                 id="pin" 
                 name="pin" 
                 type="password"
                 inputmode="numeric" 
                 pattern="[0-9]{4}" 
                 maxlength="4"
                 placeholder="Enter 4-digit PIN"
                 required>
        </div>
        
        <div class="mb-6">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="confirmPin">
            Confirm PIN
          </label>
          <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" 
                 id="confirmPin" 
                 name="confirmPin" 
                 type="password"
                 inputmode="numeric" 
                 pattern="[0-9]{4}" 
                 maxlength="4"
                 placeholder="Confirm 4-digit PIN"
                 required>
        </div>
        
        <div class="mb-6">
          <ul class="list-disc text-gray-600 text-sm pl-5">
            <li>PIN must be exactly 4 digits</li>
            <li>PIN is used to encrypt your private key</li>
            <li>This PIN cannot be changed later</li>
            <li>If you lose your PIN, you cannot recover your assets</li>
          </ul>
        </div>
        
        <div class="flex items-center justify-between">
          <button class="bg-primary hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full" 
                  type="submit">
            Set PIN
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  // Ensure only numbers can be entered in PIN fields
  document.querySelectorAll('input[inputmode="numeric"]').forEach(function(input) {
    input.addEventListener('input', function() {
      this.value = this.value.replace(/[^0-9]/g, '');
      if (this.value.length > 4) {
        this.value = this.value.slice(0, 4);
      }
    });
  });
</script> 